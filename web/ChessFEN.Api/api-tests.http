### ChessFEN API Test Requests
### Use with VS Code REST Client extension (humao.rest-client)

@baseUrl = http://localhost:5000
@pythonServiceUrl = http://localhost:8000

### ============================================
### Health & Info Endpoints
### ============================================

### Health check
GET {{baseUrl}}/api/chess/health

### Get available models
GET {{baseUrl}}/api/chess/models

### ============================================
### Prediction Endpoints
### ============================================

### Predict from base64 image (example - replace with actual base64)
POST {{baseUrl}}/api/chess/predict/base64
Content-Type: application/json

{
    "image": "BASE64_ENCODED_IMAGE_DATA_HERE"
}

### Predict with debug mode
POST {{baseUrl}}/api/chess/predict/base64?debug=true
Content-Type: application/json

{
    "image": "BASE64_ENCODED_IMAGE_DATA_HERE"
}

### Predict with specific model
POST {{baseUrl}}/api/chess/predict/base64?model=chess_resnet18_best
Content-Type: application/json

{
    "image": "BASE64_ENCODED_IMAGE_DATA_HERE"
}

### ============================================
### Chess.com Search API (JSON responses)
### ============================================

### Check if games exist - Common opening (should find games)
GET {{baseUrl}}/api/chess/chess-com-search?fen=rnbqkbnr%2Fpppppppp%2F8%2F8%2F4P3%2F8%2FPPPP1PPP%2FRNBQKBNR%20b%20KQkq%20-%200%201

### Check if games exist - Sicilian Defense (should find games)
GET {{baseUrl}}/api/chess/chess-com-search?fen=rnbqkbnr%2Fpp1ppppp%2F8%2F2p5%2F4P3%2F8%2FPPPP1PPP%2FRNBQKBNR%20w%20KQkq%20c6%200%202

### Check if games exist - Rare endgame (should NOT find games)
GET {{baseUrl}}/api/chess/chess-com-search?fen=8%2F8%2F4k3%2F8%2F2K5%2F8%2F8%2F8%20w%20-%20-%200%201

### ============================================
### Python Inference Service (Direct)
### ============================================

### Python service health
GET {{pythonServiceUrl}}/health

### Python service - get models
GET {{pythonServiceUrl}}/api/models

### ============================================
### Chess.com Game Search
### ============================================
#
# NOTE: Chess.com returns HTML. To check if games were found:
# - If response contains "Your search did not match any games." -> No games found
# - If response contains "game-row" or game data -> Games found
#

### Chess.com - Common opening (should find games)
# Expected: Should find many games
GET https://www.chess.com/games/search?fen=rnbqkbnr%2Fpppppppp%2F8%2F8%2F4P3%2F8%2FPPPP1PPP%2FRNBQKBNR%20b%20KQkq%20e3%200%201

### Chess.com - Sicilian Defense (should find games)
GET https://www.chess.com/games/search?fen=rnbqkbnr%2Fpp1ppppp%2F8%2F2p5%2F4P3%2F8%2FPPPP1PPP%2FRNBQKBNR%20w%20KQkq%20c6%200%202

### Chess.com - Italian Game (should find games)
GET https://www.chess.com/games/search?fen=r1bqkbnr%2Fpppp1ppp%2F2n5%2F4p3%2F2B1P3%2F5N2%2FPPPP1PPP%2FRNBQK2R%20b%20KQkq%20-%203%203

### Chess.com - Ruy Lopez (should find games)
GET https://www.chess.com/games/search?fen=r1bqkbnr%2Fpppp1ppp%2F2n5%2F1B2p3%2F4P3%2F5N2%2FPPPP1PPP%2FRNBQK2R%20b%20KQkq%20-%203%203

### Chess.com - Complex middlegame position (may or may not find games)
GET https://www.chess.com/games/search?fen=1rb2rk1%2Fp3bpp1%2F1qp1p2p%2F4P3%2F4NQ2%2F1P1B4%2FP1P3PP%2F2KR3R%20b%20-%20-%200%201

### Chess.com - Random/unlikely position (should NOT find games)
# Expected: "Your search did not match any games."
GET https://www.chess.com/games/search?fen=8%2F8%2F4k3%2F8%2F2K5%2F8%2F8%2F8%20w%20-%20-%200%201

### ============================================
### Feedback Endpoint
### ============================================

### Submit position correction for training
POST {{baseUrl}}/api/chess/feedback
Content-Type: application/json

{
    "originalFen": "rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",
    "correctedFen": "rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR",
    "correctedSquares": {
        "e4": "wP",
        "e2": "empty"
    }
}

### ============================================
### Example FEN Positions for Testing
### ============================================

# Starting position:
# rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1

# After 1.e4:
# rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1

# Sicilian Defense:
# rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPP1PPP/RNBQKBNR w KQkq c6 0 2

# Italian Game:
# r1bqkbnr/pppp1ppp/2n5/4p3/2B1P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 3 3

# Ruy Lopez:
# r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 3 3

# Queen's Gambit:
# rnbqkbnr/ppp1pppp/8/3p4/2PP4/8/PP2PPPP/RNBQKBNR b KQkq c3 0 2
